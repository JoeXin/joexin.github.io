let coverColor=()=>{var e=PAGE_CONFIG.color;e?setThemeColors(e):(e=document.getElementById("post-cover")?.src)?handleApiColor(e):setDefaultThemeColors()};function handleApiColor(e){var o=JSON.parse(localStorage.getItem("Solitude"))||{};o.postcolor?.[e]?setThemeColors(o.postcolor[e].value):img2color(e)}function img2color(o){fetch(""+coverColorConfig.api+encodeURIComponent(o)).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{setThemeColors(e.RGB),cacheColor(o,e.RGB)}).catch(e=>console.error("Error fetching color:",e))}function setThemeColors(e){var o,t,r;(e?([o,t,r]=e.match(/\w\w/g).map(e=>parseInt(e,16)),document.documentElement.style.setProperty("--efu-main",e),document.documentElement.style.setProperty("--efu-main-op",e+"23"),document.documentElement.style.setProperty("--efu-main-op-deep",e+"dd"),document.documentElement.style.setProperty("--efu-main-none",e+"00"),adjustBrightness(o,t,r),document.getElementById("coverdiv").classList.add("loaded"),initThemeColor):setDefaultThemeColors)()}function setDefaultThemeColors(){document.documentElement.style.setProperty("--efu-main","var(--efu-theme)"),document.documentElement.style.setProperty("--efu-main-op","var(--efu-theme-op)"),document.documentElement.style.setProperty("--efu-main-op-deep","var(--efu-theme-op-deep)"),document.documentElement.style.setProperty("--efu-main-none","var(--efu-theme-none)"),initThemeColor()}function cacheColor(e,o){var t=JSON.parse(localStorage.getItem("Solitude"))||{};t.postcolor=t.postcolor||{},t.postcolor[e]={value:o,expiration:Date.now()+coverColorConfig.time},localStorage.setItem("Solitude",JSON.stringify(t))}function adjustBrightness(e,o,t){Math.round((299*e+587*o+114*t)/1e3)<125&&([...document.getElementsByClassName("card-content")].forEach(e=>{e.style.setProperty("--efu-card-bg","var(--efu-white)")}),[...document.getElementsByClassName("sayhi")].forEach(e=>{e.style.setProperty("background","var(--efu-white-op)"),e.style.setProperty("color","var(--efu-white)")}))}