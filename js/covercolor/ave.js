let coverColor=()=>{var e=PAGE_CONFIG.color;e?setThemeColors(e):(e=document.getElementById("post-cover")?.src)?handleApiColor(e):setDefaultThemeColors()},handleApiColor=e=>{var o=(JSON.parse(localStorage.getItem("Solitude"))||{postcolor:{}}).postcolor[e]?.value;o?setThemeColors(o):img2color(e)},img2color=o=>{fetch(o+"?imageAve").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(({RGB:e})=>{e="#"+e.slice(2);setThemeColors(e),cacheColor(o,e)}).catch(e=>console.error("Error fetching color:",e))},setThemeColors=e=>{if(!e)return setDefaultThemeColors();var[o,t,r]=e.match(/\w\w/g).map(e=>parseInt(e,16));Object.entries({main:e,op:e+"23",opDeep:e+"dd",none:e+"00"}).forEach(([e,o])=>{document.documentElement.style.setProperty("--efu-"+e,o)}),adjustBrightness(o,t,r),document.getElementById("coverdiv").classList.add("loaded"),initThemeColor()},setDefaultThemeColors=()=>{["--efu-theme","--efu-theme-op","--efu-theme-op-deep","--efu-theme-none"].forEach((e,o)=>{document.documentElement.style.setProperty(["--efu-main","--efu-main-op","--efu-main-op-deep","--efu-main-none"][o],`var(${e})`)}),initThemeColor()},cacheColor=(e,o)=>{var t=JSON.parse(localStorage.getItem("Solitude"))||{postcolor:{}};t.postcolor[e]={value:o,expiration:Date.now()+coverColorConfig.time},localStorage.setItem("Solitude",JSON.stringify(t))},adjustBrightness=(e,o,t)=>{Math.round((299*e+587*o+114*t)/1e3)<125&&(document.querySelectorAll(".card-content").forEach(e=>{e.style.setProperty("--efu-card-bg","var(--efu-white)")}),document.querySelectorAll(".sayhi").forEach(e=>{e.style.setProperty("background","var(--efu-white-op)"),e.style.setProperty("color","var(--efu-white)")}))};