let coverColor=()=>{var e=PAGE_CONFIG.color||document.getElementById("post-cover")?.src;e?localColor(e):setDefaultThemeColors()},setDefaultThemeColors=()=>{Object.entries({"--efu-main":"var(--efu-theme)","--efu-main-op":"var(--efu-theme-op)","--efu-main-op-deep":"var(--efu-theme-op-deep)","--efu-main-none":"var(--efu-theme-none)"}).forEach(([e,o])=>{document.documentElement.style.setProperty(e,o)}),initThemeColor()},localColor=e=>{let o=new ColorThief,t=new Image;t.crossOrigin="Anonymous",t.onload=()=>{var e=o.getColor(t);setThemeColors(rgbToHex(e),...e)},t.onerror=()=>console.error("Image Error"),t.src=e},rgbToHex=([e,o,t])=>"#"+[e,o,t].map(e=>Math.floor(.8*e).toString(16).padStart(2,"0")).join(""),setThemeColors=(e,o=null,t=null,r=null)=>{if(!e)return setDefaultThemeColors();Object.entries({"--efu-main":e,"--efu-main-op":e+"23","--efu-main-op-deep":e+"dd","--efu-main-none":e+"00"}).forEach(([e,o])=>{document.documentElement.style.setProperty(e,o)}),null!==o&&null!==t&&null!==r&&Math.round((299*o+587*t+114*r)/1e3)<125&&(adjustCardStyles(),e=LightenDarkenColor(e,50),setThemeColors(e)),document.getElementById("coverdiv").classList.add("loaded"),initThemeColor()},LightenDarkenColor=(e,o)=>{let t=!1;"#"===e[0]&&(e=e.slice(1),t=!0);var e=parseInt(e,16),r=(e>>16)+o,l=(e>>8&255)+o,e=(255&e)+o,r=Math.max(Math.min(r,255),0),l=Math.max(Math.min(l,255),0),e=Math.max(Math.min(e,255),0);return(t?"#":"")+((1<<24)+(r<<16)+(l<<8)+e).toString(16).slice(1)},adjustCardStyles=()=>{document.querySelectorAll(".card-content").forEach(e=>{e.style.setProperty("--efu-card-bg","var(--efu-white)")}),document.querySelectorAll(".sayhi").forEach(e=>{e.style.setProperty("background","var(--efu-white-op)"),e.style.setProperty("color","var(--efu-white)")})};